@page
@model ListLife.Pages.MyPageModel
@{
}
@if (TempData["Message"] != null)
{
    <div class="alert alert-@TempData["MessageType"]" role="alert">
        @TempData["Message"]
    </div>
}

<h1 class="Header">Welcome to your ShoppingLists</h1>

<section class="container">
    <div class="left-Section">
        <h2>Add new Product:</h2>
        <div>
            <label>Product:</label>
            <input type="text" id="category" name="category">
        </div>

        <div>
            <label>Amount</label>
            <select id="amount" name="amount">
                @for (int i = 1; i <= 15; i++)
                {
                    <option value="@i">@i</option>
                }
            </select>
        </div>

        <div>
            <label>Category:</label>
            <select>
                <option value="">--Select Category--</option>
                <option value="FruitsVegetables">Fruits & Vegetables</option>
                <option value="Fridge">Fridge items</option>
                <option value="Freezer">Freezer items</option>
                <option value="Pantry">Pantry items</option>
                <option value="Hygiene">Hygiene items</option>
                <option value="Other">Other</option>
            </select>
        </div>

        <button type="submit" class="btnAddToShoppingList">Add to ShoppingList</button>
        <div>
            <form asp-page="/CreateNewShoppingList" method="get">
                <button type="submit" class="btnNewShoppingList">Create new Shopping List</button>
            </form>
        </div>
    </div>

    <div class="right-Section">
        <h2>Your Shoppinglists:</h2>
            <div>

                @if(Model.ShoppingLists!= null)
                {
                    foreach (var list in Model.ShoppingLists)
                    {
                        <div>
                            <p><Strong>Product:</strong>@list.Product</p>
                            <p><Strong>Category:</strong>@list.Category</p>
                            <p><Strong>Amount:</strong>@list.Amount</p>
                      
                        @* functions for sharing shoppinglists *@
                        <form method="post">
                            <input type="email" asp-for="UserEmail" placeholder="Enter user´s email" required/>
                            <button type="submit" asp-page-handler="Share" asp-route-listId="@list.Id">Share</button>

                        </form>
                         

                         </div>
                    }   
                }
            <h2>Shared lists</h2>
            @if (Model.SharedShoppingLists != null)
            {
                foreach (var list in Model.SharedShoppingLists)
                {
                    <div>
                        <p><Strong>Product:</strong>@list.Product</p>
                        <p><Strong>Category:</strong>@list.Category</p>
                        <p><Strong>Amount:</strong>@list.Amount</p>
                    </div>
                }
            }
            else 
            {
                <p>No Shoppinglist(s) found.</p>
            }
        </div>
    </div>
</section>

<style>
    .Header {
        margin-bottom: 20px;
    }

    .container {
        display: flex;
        justify-content: space-between;
    }

    .left-Section {
        width: 60%;
    }

    .right-Section {
        width: 35%;
        background-color: #f5f5f5;
        border-radius: 10px;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
    }

    .btnAddToShoppingList,
    .btnNewShoppingList,
    .btnYourShoppingLists {
        background-color: mediumpurple;
        border-radius: 8px;
        margin: 15px;
    }
</style>
